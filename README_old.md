<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Automation Library for dynaTrace</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <meta content="Scroll Wiki Publisher" name="generator"/>
    <link type="text/css" rel="stylesheet" href="css/blueprint/liquid.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/blueprint/print.css" media="print"/>
    <link type="text/css" rel="stylesheet" href="css/content-style.css" media="screen, projection, print"/>
    <link type="text/css" rel="stylesheet" href="css/screen.css" media="screen, projection"/>
    <link type="text/css" rel="stylesheet" href="css/print.css" media="print"/>
</head>
<body>
                <h1>Automation Library for dynaTrace</h1>
    <div class="section-2"  id="24248929_AutomationLibraryfordynaTrace-Overview"  >
        <h2>Overview</h2>
    <div class="tablewrap">
        <table>
<thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td rowspan="1" colspan="1">
        <p>
Name    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation Library for dynaTrace to integrate dynaTrace in an automated environment such as a build or automated test environment    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Description    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation is key in different phases of the Software Development Lifecycle. Builds are automated by using build-servers that also execute all unit and integration tests to ensure the basic quality criteria for a build before it gets deployed to the next stage. Functional as well as load-tests can be automated to test applications that come out of the build-environment to ensure full functionality, performance and scalability.dynaTrace provides this Automation Library to easily integrate dynaTrace in your <strong class=" ">Continuous Integration</strong> or Test Automation Environment such as <strong class=" ">Ant</strong>, <strong class=" ">Maven</strong>, <strong class=" ">Hudson</strong>, ....The automation library provides contextual information such as the version/revision/build number to be used by the dynaTrace Automation Test Center and visible in the Test Automation Dashlet. The library also includes reporting capabilities.    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Version    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
1.0    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
dynaTrace Versions    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
5.x, 6.0    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Author    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
dynaTrace software    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
License    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
<a href="attachments_5275722_2_dynaTraceBSD.txt">dynaTrace BSD</a>    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Support    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
<a href="https://community.compuwareapm.com/community/display/DL/Support+Levels#SupportLevels-Supported">Supported</a>    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Download for Java    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
<strong class=" ">dynaTrace 6.0:</strong>    </p>
<ul class=" "><li class=" ">    <p>
<a href="attachments_174751931_1_com.dynatrace.diagnostics.automation_6.0.0.6733.zip">Automation Library ONLY</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_174751932_1_com.dynatrace.integration.ant_6.0.0.6733.zip">Ant Integration ONLY</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_174752435_1_dtAutomation.jar">Maven Plugin</a><br/><br/><strong class=" ">dynaTrace 5.6:</strong>    </p>
</li><li class=" ">    <p>
<a href="attachments_150700312_1_com.dynatrace.diagnostics.automation_5.6.0.5713.zip">Automation Library ONLY</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_150700313_1_com.dynatrace.integration.ant_5.6.0.5713.zip">Ant Integration ONLY</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_174752435_1_dtAutomation.jar">Maven Plugin</a><br/><br/><br/><strong class=" ">dynaTrace 5.5:</strong>    </p>
</li><li class=" ">    <p>
<a href="attachments_24412209_4_com.dynatrace.diagnostics.automation.jar">Automation Library ONLY</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_121569597_1_com.dynatrace.integration.ant.jar">Ant Integration ONLY</a><br/><br/><strong class=" ">dynaTrace 4.1 &amp; 5.x:</strong>    </p>
</li><li class=" ">    <p>
<a href="attachments_67829824_1_dtAutomation41.zip">Automation Library for 5.x</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_67829823_1_dtAutomation41ForMaven.zip">Automation Library for 5.x packaged for Maven 2</a>    </p>
</li></ul>            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Download for .NET    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
<strong class=" ">dynaTrace 4.x, 5.x</strong>    </p>
<ul class=" "><li class=" ">    <p>
<a href="https://community/display/DL/NANT+Task+Library">NANT Task Library</a>    </p>
</li><li class=" ">    <p>
<a href="https://community/display/DL/MSBuild+Tasks+Library">MSBuild Tasks Library</a>    </p>
</li><li class=" ">    <p>
<a href="https://community/display/DL/.NET+Command+Library">.NET Command Library</a> (Only necessary if running prior to dynaTrace v3.5.  dynatrace 3.5+ already includes this library)    </p>
</li></ul>            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
Sample Downloads    </p>
            </td>
                <td rowspan="1" colspan="1">
    <ul class=" "><li class=" ">    <p>
<a href="https://community.dynatrace.com/community/display/DOCDT50/Automated+Performance+Analysis+in+Continuous+Integration">dynaTrace Automation Walkthrough including Samples for JUnit and Selenium</a>    </p>
</li><li class=" ">    <p>
<a href="attachments_24412211_7_dynaTraceAutomationSample.zip">dynaTrace Automation Samples for Ant and Maven</a>    </p>
</li></ul>            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section-2"  id="24248929_AutomationLibraryfordynaTrace-Description"  >
        <h2>Description</h2>
    <p>
The automation library enables FULL Automation of dynaTrace by leveraging the REST interfaces of the dynaTrace Server. The automation library includes Ant Tasks, Maven Goals and a console application to execute the following actions on the dynaTrace Server:    </p>
<ul class=" "><li class=" ">    <p>
<strong class=" ">Start/Stop Session Recording</strong>: Returns the actual recorded session name    </p>
</li><li class=" ">    <p>
<strong class=" ">Set Test Information</strong>: Sets information about the tested built to be used by Test Automation Center    </p>
</li><li class=" ">    <p>
<strong class=" ">Clear Session</strong>: Clears the live session    </p>
</li><li class=" ">    <p>
<strong class=" ">Reanalyze Stored Sessions</strong>: triggers business transaction analysis of a stored session    </p>
</li><li class=" ">    <p>
<strong class=" ">Enable/Disable Profile</strong>    </p>
</li><li class=" ">    <p>
<strong class=" ">Activate Configuration</strong>: Activates a configuration within a system profile    </p>
</li><li class=" ">    <p>
<strong class=" ">Get Agent Information</strong>: Either returns the number of connected agents or specific information about a single agent    </p>
</li><li class=" ">    <p>
<strong class=" ">Create Memory/Thread Dumps</strong>: Triggers memory or thread dumps for a specific connected agent    </p>
</li><li class=" ">    <p>
<strong class=" ">Restart Server/Collector</strong>    </p>
</li></ul>    <p>
The library also includes reporting capabilities that were previously implemented in separate Ant-Libraries:    </p>
<ul class=" "><li class=" ">    <p>
Reporting on Dashboards: creates HTML reports based on dashboards    </p>
</li><li class=" ">    <p>
Architecture Validation: allows to perform architecture validation rules on captures PurePaths    </p>
</li></ul>    <p>
The Download package includes:    </p>
    <div class="tablewrap">
        <table>
<thead class=" "></thead><tfoot class=" "></tfoot><tbody class=" ">    <tr>
            <td rowspan="1" colspan="1">
        <p>
dtAutomation{VERSION}.zip    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation Library for dynaTrace {VERSION} including implemenation for Ant, Maven2 and Console Application. Also includes a JUnit Runner for Selenium and a separate dtTaskDefs.xml that defines and documents all available Ant-Tasks    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
dynaTraceForMaven.zip    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation Library packaged to be used with the Maven2 Plugin Repository (includes description files and correct file structure)    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
com.dynatrace.diagnostics.automation.jar    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation Library for 3.2.x including implemenation for Ant, Maven2 and Console Application    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
dynaTraceForMaven.zip    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
Automation Library for 3.2.x packaged to be used with the Maven2 Plugin Repository (includes description files and correct file structure)    </p>
            </td>
        </tr>
    <tr>
            <td rowspan="1" colspan="1">
        <p>
dynaTraceAutomationSample.zip    </p>
            </td>
                <td rowspan="1" colspan="1">
        <p>
The package includes a sample build.xml for Ant, pom.xml for Maven2 and Dashboards and configuration files to be used for the Reporting and Architecture Validation feature    </p>
            </td>
        </tr>
</tbody>        </table>
            </div>
    </div>
    <div class="section-2"  id="24248929_AutomationLibraryfordynaTrace-Installation"  >
        <h2>Installation</h2>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-TobeusedwithAnt"  >
        <h3>To be used with Ant</h3>
    <p>
<strong class=" ">For 3.5, 4 &amp; 5</strong>    </p>
<ul class=" "><li class=" ">    <p>
Extract Automation Library Package to your local file system    </p>
</li><li class=" ">    <p>
Under <tt class=" ">lib/dynatrace</tt> you find <tt class=" ">dtTaskDefs.xml</tt> (defines all Ant Task) and <tt class=" ">com.dynatrace.diagnostics.automation.jar</tt> (the actual automation library)    </p>
</li><li class=" ">    <p>
Have a look at <tt class=" ">build.xml</tt> in the root directory as a sample on how to call the ant tasks    </p>
</li></ul>    <p>
<strong class=" ">For 3.2.x</strong>    </p>
<ul class=" "><li class=" ">    <p>
Extract <tt class=" ">com.dynatrace.diagnostics.automation.jar</tt> to your local file system    </p>
</li><li class=" ">    <p>
Define the ant tasks as shown in the <tt class=" ">tTaskDefs.xml</tt> file from the <a href="attachments_24412211_7_dynaTraceAutomationSample.zip">sample package</a> or simple &lt;import&gt; this file with your existing Ant.    </p>
</li><li class=" ">    <p>
Call the dynaTraceAnt Tasks in your Ant Targets - for an example see <tt class=" ">build.xml</tt> file in sample package    </p>
</li></ul>    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-TobeusedwithMaven"  >
        <h3>To be used with Maven</h3>
<ul class=" "><li class=" ">    <p>
Extract <tt class=" ">dynaTraceForMaven.zip</tt> to your local file system.    </p>
</li><li class=" ">    <p>
To install the dynaTrace Maven plugin, execute the following command:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>mvn install:install-file -DgroupId=dynaTrace -DartifactId=dtAutomation -Dversion=3.5 -Dpackaging=maven-plugin -Dfile=&lt;your download location&gt;\dtAutomation\3.5\dtAutomation.jar</code></pre>
        </div>
    </div>
</li><li class=" ">    <p>
Define properties for the dynaTracegoals as shown in pom.xml from the sample package    </p>
</li><li class=" ">    <p>
Invoke your maven goals, e.g.: mvn dynaTrace:dtAutomation:3.5:startRecording    </p>
</li></ul>    <p>
The dynaTracemaven plugin has the following identification (pluginGroupId:pluginArtifactId:pluginVerion): dynaTrace:dtAutomation:1.1    </p>
    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-Tobeusedfromthecommandline"  >
        <h3>To be used from the command line</h3>
<ul class=" "><li class=" ">    <p>
Extract <tt class=" ">com.dynatrace.diagnostics.automation.jar</tt> to your local file system    </p>
</li><li class=" ">    <p>
run the application without parameters to get usage information:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>java -cp com.dynatrace.diagnostics.automation.jar com.dynatrace.diagnostics.automation.Console</code></pre>
        </div>
    </div>
</li><li class=" ">    <p>
username, password and serverUrl default back to localhost and admin/admin. These values can be passed in via command line or even via a <tt class=" ">console.properties</tt> file defining these 3 values    </p>
</li></ul>    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-Usage"  >
        <h3>Usage</h3>
    <div class="section-4"  id="24248929_AutomationLibraryfordynaTrace-WithAnt"  >
        <h4>With Ant</h4>
    <p>
A full example that includes calling JUnit and Selenium tests can be seen in the <a href="https://community/display/DL/Demo+Applications">Demo Application Package</a>. You can also download the <tt class=" ">build.xml</tt> as shown later in this paragraph which is as part of <a href="attachments_39518414_4_dtAutomation35.zip">dtAutomation35.zip</a> or the <a href="attachments_24412211_7_dynaTraceAutomationSample.zip">3.2.x sample package</a>.<br/>Use and import <tt class=" ">dtTaskDefs.xml</tt> in your existing Ant file. This file defines all TaskDefs and global properties that allow you to specify username, password, serverURL, ... Here is the full <tt class=" ">build.xml</tt> file that is part of the download sample package. It includes a sample call to all TaskDefs including documentation of the properties:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>&lt;project name=&quot;Sample dynaTrace Automation Ant file&quot;&gt;
	&lt;description&gt;
		Shows how to use the dynaTrace Automation Ant Tasks
	&lt;/description&gt;
	&lt;!-- Import the dynaTrace Automation Tasks --&gt;
	&lt;import file=&quot;lib/dynaTrace/dtTaskDefs.xml&quot;/&gt;
	&lt;!-- Setting defaults for Test Automation --&gt;
	&lt;property name=&quot;dtVersionMajor&quot; value=&quot;1&quot; /&gt;
	&lt;property name=&quot;dtVersionMinor&quot; value=&quot;0&quot; /&gt;
	&lt;property name=&quot;dtVersionRevision&quot; value=&quot;0&quot; /&gt;
	&lt;property name=&quot;dtVersionMilestone&quot; value=&quot;Milestone 1&quot; /&gt;
	&lt;property name=&quot;dtVersionBuild&quot; value=&quot;123&quot; /&gt;
	&lt;property name=&quot;dtAgentGroup&quot; value=&quot;GoSpaceFrontend&quot; /&gt;
	&lt;!-- Enables GoSpace and actives GoSpace Light configuration
		configuration and profilenames need are case sensitive
	--&gt;
	&lt;target name=&quot;EnableProfileAndActivateConfiguration&quot;&gt;
		&lt;DtEnableProfile profileName=&quot;GoSpace&quot; enable=&quot;true&quot; /&gt;
		&lt;DtActivateConfiguration profileName=&quot;GoSpace&quot; configuration=&quot;GoSpace light&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Clears the live session of GoSpace --&gt;
	&lt;target name=&quot;ClearSession&quot;&gt;
		&lt;DtClearSession profileName=&quot;GoSpace&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Sets Test Meta Data Information for Test Automation --&gt;
	&lt;target name=&quot;SetTestInformationForTestAutomation&quot;&gt;
		&lt;DtSetTestInformation versionMajor=&quot;${dtVersionMajor}&quot; versionMinor=&quot;${dtVersionMinor}&quot; versionRevision=&quot;${dtVersionRevision}&quot;
		  versionMilestone=&quot;${dtVersionMilestone}&quot; versionBuild=&quot;${dtVersionBuild}&quot; agentGroup=&quot;${dtAgentGroup}&quot; setInformationStatusProperty=&quot;dtStatusProperty&quot;/&gt;
		&lt;echo message=&quot;Set Test Information with status : ${dtStatusProperty}&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Retrieves the number of Connected Agents
		Then queries the agent information for the first connected agent and the first GoSpaceFrontend agent
		The requested information is stored in Ant Properties that can later be used by other tasks, e.g.: DtMemoryDump to identify the agent
	 --&gt;
	&lt;target name=&quot;GetAgentInfo&quot;&gt;
		&lt;DtGetAgentInfo agentCountProperty=&quot;AgentCount&quot; /&gt;
		&lt;echo message=&quot;Connected Agents: ${AgentCount}&quot;&gt;&lt;/echo&gt;
		&lt;DtGetAgentInfo agentNameProperty=&quot;AgentName&quot; agentHostNameProperty=&quot;AgentHost&quot; agentProcessIdProperty=&quot;AgentProcessId&quot; infoForAgentByIndex=&quot;0&quot; /&gt;
		&lt;echo message=&quot;First Agent: ${AgentName} - ${AgentHost} - ${AgentProcessId}&quot;&gt;&lt;/echo&gt;
		&lt;DtGetAgentInfo agentNameProperty=&quot;AgentName&quot; agentHostNameProperty=&quot;AgentHost&quot; agentProcessIdProperty=&quot;AgentProcessId&quot; infoForAgentByName=&quot;GoSpaceFrontend&quot; /&gt;
		&lt;echo message=&quot;First GoSpaceFrontend: ${AgentName} - ${AgentHost} - ${AgentProcessId}&quot;&gt;&lt;/echo&gt;
	&lt;/target&gt;
	&lt;!-- Takes a Memory and Thread Dump from a specific agent
		We call GetAgentInfo first that retrieves the Agent Information for which the dump gets created
	--&gt;
	&lt;target name=&quot;TakeMemoryAndThreadDumps&quot; depends=&quot;GetAgentInfo&quot; &gt;
		&lt;DtMemoryDump memoryDumpNameProperty=&quot;MemoryDumpName&quot; profileName=&quot;GoSpace&quot; agentName=&quot;${AgentName}&quot; hostName=&quot;${AgentHost}&quot; processId=&quot;${AgentProcessId}&quot; /&gt;
		&lt;echo message=&quot;Created Memory Dump: ${MemoryDumpName}&quot; /&gt;
		&lt;DtThreadDump threadDumpNameProperty=&quot;ThreadDumpName&quot; agentName=&quot;${AgentName}&quot; hostName=&quot;${AgentHost}&quot; processId=&quot;${AgentProcessId}&quot; /&gt;
		&lt;echo message=&quot;Created Thread Dump: ${ThreadDumpName}&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Start Recording a new dynaTrace Session
		The actual session name will be stored in the Ant Property &quot;SessionName&quot; which can later be used as input for other tasks, e.g.: ReanalyzeSession
	--&gt;
	&lt;target name=&quot;StartRecording&quot;&gt;
		&lt;DtStartRecording profileName=&quot;GoSpace&quot; sessionNameProperty=&quot;SessionName&quot; sessionName=&quot;AntSession&quot; sessionDescription=&quot;This Session is triggered by an Ant Task&quot;  /&gt;
        &lt;echo message=&quot;Start Recording SessionName: ${SessionName}&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Stops current recording
		The actual session name will be stored in the Ant Property &quot;SessionName&quot; which can later be used as input for other tasks, e.g.: ReanalyzeSession
	--&gt;
	&lt;target name=&quot;StopRecording&quot;&gt;
		&lt;!-- The sleep is in there so that you can manually create some purepaths in the meantime that end up in the session --&gt;
		&lt;sleep seconds=&quot;10&quot;/&gt;
		&lt;DtStopRecording profileName=&quot;GoSpace&quot; sessionNameProperty=&quot;SessionName&quot; /&gt;
		&lt;echo message=&quot;Stopped Recording SessionName: ${SessionName}&quot; /&gt;
    &lt;/target&gt;
	&lt;!-- Stops current recording and also reanalizes the session
		In this case the System Profile name comes from the global dtProfile Property
	--&gt;
	&lt;target name=&quot;StopRecordingWithReanalyze&quot;&gt;
		&lt;!-- The sleep is in there so that you can manually create some purepaths in the meantime that end up in the session --&gt;
		&lt;sleep seconds=&quot;10&quot;/&gt;
		&lt;DtStopRecording doReanalyzeSession=&quot;true&quot; reanalyzeStatusProperty=&quot;ReanalyzeStatus&quot; /&gt;
		&lt;echo message=&quot;Stopped Recording SessionName and reanalized: ${SessionName} - ${ReanalyzeStatus}&quot; /&gt;
    &lt;/target&gt;
	&lt;!-- Reanalyzes a specific dynaTrace Session
		We use the value stored in the SessionName property which falls set by StopRecording
	--&gt;
	&lt;target name=&quot;ReanalyzeSession&quot;&gt;
		&lt;DtReanalyzeSession sessionName=&quot;${SessionName}&quot; reanalyzeStatusProperty=&quot;ReanalyzeStatus&quot; reanalyzeSessionTimeout=&quot;60000&quot; reanalyzeSessionPollingInterval=&quot;5000&quot; /&gt;
		&lt;echo message=&quot;Reanalyze finished? ${ReanalyzeStatus}&quot; /&gt;
	&lt;/target&gt;
	&lt;!-- Combines the calls to Start/Stop and Reanalyze --&gt;
	&lt;target name=&quot;StartStopRecordingAndReanalyze&quot; depends=&quot;StartRecording,StopRecording,ReanalyzeSession&quot; &gt;
	&lt;/target&gt;
	&lt;!-- Combines the calls to Start and StopWithReanalyze --&gt;
	&lt;target name=&quot;StartStopInclReanalyze&quot; depends=&quot;StartRecording,StopRecordingWithReanalyze&quot; &gt;
	&lt;/target&gt;
	&lt;target name=&quot;DashboardReporting&quot;&gt;
		&lt;!-- Queries a single dashboard and puts the result out to an XML File using XSLT to transform it to HTML --&gt;
		&lt;DtReport dashboardname=&quot;Test&quot; source=&quot;live:GoSpace&quot; createHtml=&quot;true&quot; xmlToFile=&quot;./results/report.xml&quot;/&gt;
		&lt;!-- Creates a dashboard report for every transaction or webrequest that is on the iterator dashborad
			outputs all files in the report directory
			an overview page is created to navigate through all result files
		 --&gt;
		&lt;DtReport dashboardname=&quot;RulesDashboard&quot; iteratorDashboard=&quot;TransactionDashboard&quot; source=&quot;live:GoSpace&quot; createHtml=&quot;true&quot; reportDir=&quot;./results&quot;/&gt;
		&lt;!-- Make sure that - when using Business Transactions on the Iterator or Data Dashboard to reanalyze stored sessions before running the report
		    Either us DtReanalyzeSession or specify the reanalyzeSession=&quot;true&quot; property for DtReport
		--&gt;
	&lt;/target&gt;
	&lt;target name=&quot;ArchitecturValidation&quot;&gt;
		&lt;DtArchiVal source=&quot;live:GoSpace&quot; archiValFile=&quot;archivalrules.xml&quot; reportFile=&quot;./results/archivalreport.xml&quot; errorProperty=&quot;ArchiValFailed&quot;/&gt;
	&lt;/target&gt;
&lt;/project&gt;</code></pre>
        </div>
    </div>
    </div>
    <div class="section-4"  id="24248929_AutomationLibraryfordynaTrace-WithMaven"  >
        <h4>With Maven</h4>
    <p>
    </p>
    <div class="confbox admonition admonition-info">
    <p>
The dynaTrace version in the maven package may still say 3.5 even though you downloaded the package for dynaTrace 4.x.    </p>
    </div>
    <div class="confbox admonition admonition-info">
    <p>
Download the Step-by-Step Guide on How to use Maven and WebDriver with dynaTrace: <a href="attachments_93192226_1_MavenWebDriverIntegration.docx">MavenWebDriverIntegration.docx</a>    </p>
    </div>
    <p>
A full example can be seen in the pom.xml as part of the <a href="attachments_24412211_7_dynaTraceAutomationSample.zip">sample package</a>.<br/>Also look at description of the previous <a href="Automation_Library_for_dynaTrace.html">Maven Plugin Page</a> that explains how to use the reporting and other maven goals that this plugin provides.    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>&lt;properties&gt;
  &lt;!-- Setting default values for dynaTrace Maven goals that operate on a system profile --&gt;
  &lt;dynaTrace.username&gt;admin&lt;/dynaTrace.username&gt;
  &lt;dynaTrace.password&gt;admin&lt;/dynaTrace.password&gt;
  &lt;dynaTrace.serverUrl&gt;http://localhost:8020&lt;/dynaTrace.serverUrl&gt;
  &lt;dynaTrace.systemProfile&gt;GoSpace&lt;/dynaTrace.systemProfile&gt;
  &lt;!-- This property will be used to store the actual Session Name for e.g.: Start/Stop Recording --&gt;
  &lt;dynaTrace.sessionNameProperty&gt;dynaTrace.sessionName&lt;/dynaTrace.sessionNameProperty&gt;
  &lt;!-- Following is a list of properties for goal: startRecording --&gt;
  &lt;dynaTrace.sessionName&gt;My Stored Session&lt;/dynaTrace.sessionName&gt;
  &lt;dynaTrace.sessionDescription&gt;My stored Session Description&lt;/dynaTrace.sessionDescription&gt;
  &lt;dynaTrace.recordingOption&gt;all&lt;/dynaTrace.recordingOption&gt; &lt;!-- other options: violations|timeseries --&gt;
  &lt;dynaTrace.sessionLocked&gt;false&lt;/dynaTrace.sessionLocked&gt;
  &lt;dynaTrace.appendTimestamp&gt;false&lt;/dynaTrace.appendTimestamp&gt;
&lt;/properties&gt;</code></pre>
        </div>
    </div>
    <p>
Now we can call the startRecording goal in the following way:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>mvn dynaTrace:dtAutomation:3.5:startRecording</code></pre>
        </div>
    </div>
    <p>
You can inject the dynaTrace agent as part of surefire unit testing in Maven pom.xml with settings similar to this:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>&lt;plugin&gt;
&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
&lt;version&gt;2.5&lt;/version&gt;
&lt;configuration&gt;
&lt;argLine&gt;-agentpath:&quot;C:\Program Files\dynaTrace\dynaTrace 5.0.0\agent\lib\dtagent.dll&quot;=name=Maven,server=localhost:9998&lt;/argLine&gt;
&lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
        </div>
    </div>
    </div>
    <div class="section-4"  id="24248929_AutomationLibraryfordynaTrace-WithConsoleApplication"  >
        <h4>With Console Application</h4>
    <p>
Launch the application without parameter to see all available options including some sample.    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>java -cp com.dynatrace.diagnostics.automation.jar com.dynatrace.diagnostics.automation.Console</code></pre>
        </div>
    </div>
    <p>
Following are some examples of which parameters to pass to start/stop recording, reanalyze session, ...    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>-startrecording GoSpace &quot;My Session&quot; &quot;My Description&quot;
-startrecording GoSpace &quot;My Session&quot; &quot;My Description&quot; violations true
-stoprecording GoSpace
-reanalyzesession &quot;My Session&quot;
-enableprofile GoSpace false
-activateconfiguration GoSpace &quot;GoSpace light&quot;
-memorydump GoSpace GoSpaceFrontend MYMACHINE 2332 simple
-threaddump GoSpace GoSpaceFrontend MYMACHINE 2332</code></pre>
        </div>
    </div>
    </div>
    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-ForJavaDevelopers"  >
        <h3>For Java Developers</h3>
    <p>
The Automation Library includes the dynaTrace REST Automation SDK (com.dynatrace.diagnostics.automation.rest.sdk) which provides the helper class RESTEndpoint which exposes all important REST Interfaces of the dynaTrace Server.<br/>Here is an example on how to use this helper class:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>// Start and Stop Session Recording
RESTEndpoint endPoint = new RESTEndpoint(&quot;admin&quot;, &quot;admin&quot;, &quot;localhost&quot;);
String sessionName = endPoint.startRecording(&quot;easyTravel&quot;, &quot;Session1&quot;, &quot;My Load Test Session&quot;, &quot;all&quot;, true, false);
System.out.println(&quot;Started recording Session: &quot;+ sessionName);
endPoint.stopRecording(&quot;easyTravel&quot;);
// list all connected agents
for(Agent agent : endPoint.getAgents()) {
  System.out.println(&quot;Agent Name: &quot; + agent.getName());
}</code></pre>
        </div>
    </div>
    <p>
<a href="attachments_102629479_1_javadoc_RESTEndpoint.zip">Download the JavaDoc</a> for the RESTEndpoint.    </p>
    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-Reporting"  >
        <h3>dynaTraceReporting</h3>
    <p>
For a detailed description about the usage and samples see the documentation on <a href="https://community/display/DL/Ant+Task+for+dynaTrace+3.1+Reporting">Ant Task for dynaTrace 3.1 Reporting</a>    </p>
    </div>
    <div class="section-3"  id="24248929_AutomationLibraryfordynaTrace-ArchitectureValidation"  >
        <h3>Architecture Validation</h3>
    <p>
This feature allows you to define architectural rules like &quot;No more than 5 SQL Statements should be executed in any given transaction&quot;. The rules and also the transactions that these rules are verified against are defined in a rules file. As an example see the archivalrules.xml file from the Sample Package.<br/>Following Ant Target executes the rules and creates a resulting XML file:    </p>
    <div class="confbox programlisting">
                <div class="content">
        <pre><code>&lt;target name=&quot;ArchitecturValidation&quot;&gt;
  &lt;DtArchiVal source=&quot;live:GoSpace&quot; archiValFile=&quot;archivalrules.xml&quot; reportFile=&quot;./results/archivalreport.xml&quot; errorProperty=&quot;ArchiValFailed&quot;/&gt;
&lt;/target&gt;</code></pre>
        </div>
    </div>
    <p>
A detailed description of this feature will follow shortly    </p>
    </div>
    </div>
            </div>
        </div>
        <div class="footer">
        </div>
    </div>
</body>
</html>
